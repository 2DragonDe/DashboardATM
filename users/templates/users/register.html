{% extends 'layouts/base_account.html' %}

{% block title_account %} Đăng Nhập {% endblock title_account %}
{% block stylesheets %}{% endblock stylesheets %}

{% block content_account %}
  <div class="wrapper wrapper-full-page">
    <div class="page-header login-page header-filter" data-color="blue" filter-color="black" style="background-image: url('../../static/assets/img/cover.jpg'); background-size: cover; background-position: top center;">
      <!--   you can change the color of the filter page using: data-color="blue | purple | green | orange | red | rose " -->
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-8 ml-auto mr-auto">
            <form class="form" method="POST" action="">
              <div class="card card-login card-hidden">
                <div class="card-header card-header-rose text-center">
                  <h4 class="card-title">ĐĂNG KÝ</h4>                 
                </div>
                <div class="card-body ">
                  <h6 class="card-description text-center">
                    {% if msg %}
                      <span class="text-danger">{{ msg }}</span>
                    {% endif %}  
                  </h6>
                  {% if success %}                    
                    <div class="text-center">
                      <a href="{% url 'login' %}" class="btn btn-primary btn-round mt-4">Đăng Nhập</a>
                    </div>
                    <br>
                  {% else %}
                    {% csrf_token %}                                 
                    <div class="form-group has-default">
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                            <i class="material-icons">face</i>
                            </span>
                        </div>
                        {{ form.username }}
                      </div>
                      <span class="text-danger">{{ form.username.errors }}</span>                          
                    </div>
                    <div class="form-group has-default">
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                            <i class="material-icons">mail</i>
                            </span>
                        </div>
                        {{ form.email }}
                      </div>
                      <span class="text-danger">{{ form.email.errors }}</span>
                    </div>
                    <div class="form-group has-default">
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                            <i class="material-icons">lock_outline</i>
                            </span>
                        </div>
                        {{ form.password1 }}
                      </div>
                      <span class="text-danger">{{ form.password1.errors }}</span>
                    </div>
                    <div class="form-group has-default">
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                            <i class="material-icons">lock_outline</i>
                            </span>
                        </div>
                        {{ form.password2 }}
                      </div>
                      <span class="text-danger">{{ form.password2.errors }}</span>    
                    </div> 
                    <div class="text-center">                     
                      {{ form.group }}            
                    </div> 
                    
                    <div class="card-footer justify-content-center">
                      <button class="btn btn-primary btn-round mt-4" type="submit" name="register" >Đăng Ký</button>
                    </div>
                  {% endif %}                            
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      {% include 'includes/footer_account.html' %}
    </div>
  </div>
{% endblock content_account %}